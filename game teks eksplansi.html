<!DOCTYPE html><html lang="id">
<head>
<meta charset="UTF-8">
<title>Game Teks Eksplanasi</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');
body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(135deg,#42a5f5,#7e57c2);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.container{
  background:white;
  padding:30px;
  border-radius:20px;
  max-width:720px;
  width:100%;
  box-shadow:0 15px 30px rgba(0,0,0,.25);
}
h2{color:#3f51b5;text-align:center}
input{width:100%;padding:10px;margin:10px 0;border-radius:10px;border:1px solid #ccc}
button{padding:12px 20px;margin:8px;border:none;border-radius:30px;background:linear-gradient(135deg,#2196f3,#1e88e5);color:white;font-size:15px;cursor:pointer}
.question-box{background:#e3f2fd;padding:20px;border-radius:15px;margin:20px 0;font-size:18px}
.info{display:flex;justify-content:space-between;font-weight:600}
.correct{background:#c8e6c9!important;animation:pop .4s ease}
@keyframes pop{0%{transform:scale(.9)}50%{transform:scale(1.05)}100%{transform:scale(1)}}
#gameScreen,#endScreen{display:none}
</style>
</head>
<body>
<div class="container">
<h2>Game Teks Eksplanasi</h2><div id="startScreen">
<p>Masukkan data sebelum bermain:</p>
<input id="nama" placeholder="Nama Siswa">
<input id="kelas" placeholder="Kelas">
<button onclick="startGame()">Mulai Game</button>
</div><div id="gameScreen">
<div class="info">
<div>â±ï¸ <span id="time">10</span>s</div>
<div>â­ <span id="score">0</span></div>
</div>
<div class="question-box" id="question"></div>
<button onclick="answer('umum')">ğŸ“Œ Pernyataan Umum</button>
<button onclick="answer('penjelas')">ğŸ§© Deretan Penjelas</button>
<button onclick="answer('interpretasi')">ğŸ“ Interpretasi</button>
</div><div id="endScreen">
<h3>ğŸ† Permainan Selesai</h3>
<p id="identity"></p>
<h1 id="finalScore"></h1>
</div>
</div><audio id="soundCorrect" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio> <audio id="soundWrong" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>

<script>
const bankSoal=[
{text:'Banjir adalah peristiwa alam yang sering terjadi.',answer:'umum'},
{text:'Banjir terjadi karena hujan deras dan drainase buruk.',answer:'penjelas'},
{text:'Oleh karena itu, kebersihan lingkungan harus dijaga.',answer:'interpretasi'},
{text:'Gunung meletus merupakan keluarnya magma.',answer:'umum'},
{text:'Tekanan gas mendorong magma ke permukaan.',answer:'penjelas'},
{text:'Kesimpulannya, gunung api perlu dipantau.',answer:'interpretasi'},
{text:'Gempa bumi adalah getaran permukaan bumi.',answer:'umum'},
{text:'Gempa disebabkan pergeseran lempeng.',answer:'penjelas'},
{text:'Pelangi adalah fenomena alam.',answer:'umum'},
{text:'Pelangi terbentuk karena pembiasan cahaya.',answer:'penjelas'},
{text:'Tanah longsor adalah runtuhan tanah.',answer:'umum'},
{text:'Tanah longsor disebabkan hujan deras.',answer:'penjelas'},
{text:'Dengan demikian, reboisasi penting.',answer:'interpretasi'}
];

let soal=[],index=0,score=0,time=10,timer;
let namaSiswa='',kelasSiswa='';

const questionEl=document.getElementById('question');
const timeEl=document.getElementById('time');
const scoreEl=document.getElementById('score');

function startGame(){
  namaSiswa=nama.value.trim();
  kelasSiswa=kelas.value.trim();
  if(!namaSiswa||!kelasSiswa){alert('Nama dan kelas wajib diisi');return}
  soal=[...bankSoal].sort(()=>0.5-Math.random()).slice(0,10);
  startScreen.style.display='none';
  gameScreen.style.display='block';
  loadSoal();
}

function loadSoal(){
  if(index>=soal.length){endGame();return}
  questionEl.innerText=soal[index].text;
  questionEl.classList.remove('correct');
  time=10; timeEl.innerText=time;
  timer=setInterval(()=>{
    time--; timeEl.innerText=time;
    if(time<=0) nextSoal();
  },1000);
}

function answer(pilihan){
  clearInterval(timer);
  if(pilihan===soal[index].answer){
    score+=10;
    questionEl.classList.add('correct');
    soundCorrect.play();
  } else {
    soundWrong.play();
  }
  scoreEl.innerText=score;
  setTimeout(nextSoal,400);
}

function nextSoal(){
  clearInterval(timer);
  index++;
  loadSoal();
}

function endGame(){
  gameScreen.style.display='none';
  endScreen.style.display='block';
  identity.innerText=namaSiswa+' - '+kelasSiswa;
  finalScore.innerText='Skor: '+score;
  kirimSheet();
}

function kirimSheet(){
  fetch('https://script.google.com/macros/s/AKfycbxDG5opFwyXC7ZnfyeQokzGlLMIMnrNGDUXGXKlbp9a9egsy09b3LsGuAQeU-_JnjrR/exec',{
    method:'POST',
    body:JSON.stringify({nama:namaSiswa,kelas:kelasSiswa,skor:score,waktu:new Date().toLocaleString()})
  }).catch(()=>{});
}
</script></body>
</html>